{"file":"mt-floated.entry.cjs.js","mappings":";;;;AAAA,MAAM,UAAU,GAAG,kWAAkW;;MCOxW,OAAO,GAAA,MAAA;;;;;AAEV,IAAA,WAAW;AAEnB,IAAA,QAAQ;IAER,qBAAqB,CAAC,UAAU,EAAE,QAAQ,EAAA;AACxC,QAAA,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;AACvB,QAAA,IAAI,EAAE,UAAU,YAAY,gBAAgB,CAAC,EAAE;AAC7C,YAAA,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC;;QAGpD,IAAI,CAAC,QAAQ,GAAG,IAAI,gBAAgB,CAAC,SAAS,IAAG;AAC/C,YAAA,SAAS,CAAC,OAAO,CAAC,QAAQ,IAAG;AAC3B,gBAAA,IAAI,QAAQ,CAAC,IAAI,KAAK,YAAY,IAAI,QAAQ,CAAC,aAAa,KAAK,KAAK,EAAE;AACtE,oBAAA,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC;;AAE5B,aAAC,CAAC;AACJ,SAAC,CAAC;AAEF,QAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,EAAE;YAChC,UAAU,EAAE,IAAI;AAChB,YAAA,eAAe,EAAE,CAAC,KAAK,CAAC;AACzB,SAAA,CAAC;AAEF,QAAA,OAAO,IAAI,CAAC,QAAQ,CAAC;;IAGvB,gBAAgB,GAAA;AACd,QAAA,IAAI,IAAI,CAAC,WAAW,EAAE;AACpB,YAAA,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAClE,YAAA,MAAM,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC;AAEpB,YAAA,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,MAAM,IAAG;gBACvC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,2BAA2B,EAAE,MAAM,CAAC;AACpE,aAAC,CAAC;;;IAIN,oBAAoB,GAAA;AAClB,QAAA,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE;;IAG5B,MAAM,GAAA;AACJ,QAAA,QACEA,OAAC,CAAAC,UAAI,EAAC,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,YAAY,EAAA,EACtBD,OAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACEA,OAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,IAAI,EAAC,OAAO,EACZ,GAAG,EAAE,EAAE,KAAK,IAAI,CAAC,WAAW,GAAG,EAAqB,CAAC,EAC/C,CAAA,EACRA,OAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAM,IAAI,EAAC,MAAM,GAAQ,CACrB,CACD;;;;;;;","names":["h","Host"],"sources":["src/components/floated/floated.scss?tag=mt-floated&encapsulation=scoped","src/components/floated/floated.tsx"],"sourcesContent":["$mt-breakpoints: (\r\n  sm: 576px,\r\n  md: 768px,\r\n  lg: 992px,\r\n  xl: 1200px,\r\n  xxl: 1400px,\r\n);\r\n\r\n:host {\r\n  --mt-imagem-floated-image: null;\r\n  --mt-imagem-floated-direction: null;\r\n  --mt-imagem-floated-margin: null;\r\n  display: block;\r\n\r\n  &::after {\r\n    content: '';\r\n    display: table; /* or block */\r\n    clear: both;\r\n  }\r\n}\r\n\r\n::slotted(img) {\r\n  shape-outside: var(--mt-imagem-floated-image);\r\n  float: var(--mt-imagem-floated-direction);\r\n  margin: var(--mt-imagem-floated-margin);\r\n  max-width: 100%;\r\n}\r\n","import { Component, h, Host, Element } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'mt-floated',\r\n  styleUrl: 'floated.scss',\r\n  scoped: true,\r\n})\r\nexport class Floated {\r\n  @Element() hostEl!: HTMLElement;\r\n  private titleSlotEl!: HTMLSlotElement;\r\n\r\n  observer;\r\n\r\n  observeImageSrcChange(imgElement, callback) {\r\n    console.log(imgElement);\r\n    if (!(imgElement instanceof HTMLImageElement)) {\r\n      throw new Error('Target must be an <img> element');\r\n    }\r\n\r\n    this.observer = new MutationObserver(mutations => {\r\n      mutations.forEach(mutation => {\r\n        if (mutation.type === 'attributes' && mutation.attributeName === 'src') {\r\n          callback(imgElement.src);\r\n        }\r\n      });\r\n    });\r\n\r\n    this.observer.observe(imgElement, {\r\n      attributes: true, // watch attributes\r\n      attributeFilter: ['src'], // only watch src\r\n    });\r\n\r\n    return this.observer; // so you can later disconnect if needed\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (this.titleSlotEl) {\r\n      const nodes = this.titleSlotEl.assignedElements({ flatten: true });\r\n      const img = nodes[0];\r\n\r\n      this.observeImageSrcChange(img, newSrc => {\r\n        this.hostEl.style.setProperty('--mt-imagem-floated-image', newSrc);\r\n      });\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.observer.disconnect();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host class=\"mt-floated\">\r\n        <div>\r\n          <slot\r\n            name=\"image\"\r\n            ref={el => (this.titleSlotEl = el as HTMLSlotElement)}\r\n          ></slot>\r\n          <slot name=\"text\"></slot>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}